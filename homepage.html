<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Skins</title>
  <link rel="stylesheet" href="homepage.css">
</head>
<body>
  <!-- Header Section -->
  <header>
    <div class="navbar">
      <div class="logo">
        <h1>Skins</h1>
      </div>
      <div class="nav-links">
        <a href="#">Market</a>
        <a id = "Create-listing" href="#">Create listing</a>
        <a id = "Saved-listing" href="#">Saved listings</a>
        <a href="#">Add funds</a>
      </div>
      <div class="user-actions">
        <div class="profile-dropdown">
          <img src ="Images/person_24dp_E8EAED_FILL0_wght400_GRAD0_opsz24.png" alt="Profile Icon" class="profile-icon" id="profile-icon">
          <div class="dropdown-content" id="dropdown-content">
            <a id="login-btn" href="#">login</a>
            <a href="#">Create Account</a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Search & Filter Section -->
  <div class="filter-section">
    <input type="text" class="search-bar" placeholder="Search market">
    <div class="price-filter">
      <input type="text" placeholder="From $5000">
      <input type="text" placeholder="To">
      <button class="refresh-btn">â†»</button>
    </div>
    <div class="sort-filter">
      <label for="sort">Sort by:</label>
      <select id="sort">
        <option>Recommended for you</option>
        <option>Price: Low to High</option>
        <option>Price: High to Low</option>
        <option>Rarity</option>
      </select>
    </div>

    <div class="weapon-filter">
      <label for="weapon-type">Weapon Type:</label>
      <select id="weapon-type">
        <option value="">All</option>
        <option value="rifle">Rifle</option>
        <option value="pistol">Pistol</option>
        <option value="shotgun">Shotgun</option>
        <option value="sniper">Sniper</option>
        <option value="knife">Knife</option>
      </select>
    </div>
    <div class="rarity-filter">
      <label for="rarity">Rarity:</label>
      <select id="rarity">
        <option value="">All</option>
        <option value="common">Common</option>
        <option value="rare">Rare</option>
        <option value="epic">Epic</option>
        <option value="legendary">Legendary</option>
      </select>
    </div>
  </div>
  </div>

  <!-- Product Grid Section -->
  <main>
    <section class="product-grid" id="marketplace">
      <div class="product-card">
        <img src="https://via.placeholder.com/100" alt="Product">
        <div class="save-icon-container">
          <img src="/Images/favorite_24dp_E8EAED_FILL0_wght400_GRAD0_opsz24.png" alt="Save" class="save-icon" onclick="saveListing('Product Titel', 'https://via.placeholder.com/100', 6199.00, 'Category', 'Type', 'Rarity 1', 'Description')">
        </div>
        <div class="product-info">
          <p class="price">$6 199.00</p>
          <p>Category:</p>
          <p>Type:</p>
          <p>Rarity 1</p>
          <p>Description:</p>
        </div>
      </div>

      <div class="product-card">
        <img src="https://via.placeholder.com/100" alt="Product">
        <div class="save-icon-container">
          <img src="/Images/favorite_24dp_E8EAED_FILL0_wght400_GRAD0_opsz24.png" alt="Save" class="save-icon" onclick="saveListing('Product Titel', 'https://via.placeholder.com/100', 6199.00, 'Category', 'Type', 'Rarity 1', 'Description')">
        </div>
        <div class="product-info">
          <p class="price">$11 836.73</p>
          <p>Category:</p>
          <p>Type:</p>
          <p>Rarity: 4</p>
          <p>Description:</p>
        </div>
      </div>

      <!-- Add more product cards as needed -->
    </section>
  </main>

  <!-- Footer Section -->
  <footer>
    <p>Selected items (0)</p>
    <button class="target-btn">Target | Bid</button>
    <button class="buy-btn">Buy</button>
  </footer>
  <script>
    // Load listings from LocalStorage
    const listings = JSON.parse(localStorage.getItem('listings')) || [];

    // Get the marketplace container
    const marketplace = document.getElementById('marketplace');

    // Loop through the listings and display them
    listings.forEach(listing => {
      const itemDiv = document.createElement('div');
      itemDiv.classList.add('product-card');

      itemDiv.innerHTML = ` 
      <img src="${listing.imageUrl}" alt="${listing.title}" class="product-image">
      <div class="save-icon-container">
        <img src="/Images/favorite_24dp_E8EAED_FILL0_wght400_GRAD0_opsz24.png" alt="Save" class="save-icon" onclick="saveListing('${listing.title}', '${listing.imageUrl}', '${listing.price}', '${listing.category}', '${listing.type}', '${listing.rarity}', '${listing.description}')">
      </div>
        <div class="product-info">
          <p class="price">$${parseFloat(listing.price).toFixed(2)}</p>
          <p>Category: ${listing.category}</p>
          <p>Type: ${listing.type}</p>
          <p>Rarity: ${listing.rarity}</p>
          <p>Description: ${listing.description}</p>
        </div>
      `;

      marketplace.appendChild(itemDiv);
    });

    function saveListing(title, imageUrl, price, category, type, rarity, description) {
    const savedListings = JSON.parse(localStorage.getItem('savedListings')) || [];
    savedListings.push({ title, imageUrl, price, category, type, rarity, description });
    localStorage.setItem('savedListings', JSON.stringify(savedListings));
    alert('Listing saved!');
  }
  </script>
  <script src="homepage.js"></script>
</body>
</html>
